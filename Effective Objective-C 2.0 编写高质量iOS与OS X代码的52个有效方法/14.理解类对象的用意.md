# 理解类对象的用意

1. 对象类型并非在编译期就绑定好了，而是要在运行期查找。


2. 有个特殊类型`id`，能指代任意的OC对象类型，并且编译器假定它能响应所有消息
3. 在运行期检视对象类型，也叫作“类型信息查询”（introspection），这一特性内置于Foundation框架的NSObject协议里。

##OC对象的本质

1. 每个OC对象实例都是指向某块内存数据的指针。


2. 对象存储在内存地址中，而指针，指向那个地址。
3. 类（class）本身也是OC对象，类对象所属的类型是另外一个类，叫“元类”（metaclass）。每个类仅有一个类对象，而每个类对象仅有一个与之相关的元类。

## 在类继承体系中查询类型信息

```
//判断对象是否为某个特定类的实例
- (BOOL)isMemberOfClass:(Class)aClass;
//判断对象是否为某类或其派生类的实例
- (BOOL)isKindOfClass:(Class)aClass;
```

* 在OC语言中，必须查询类型信息，方能完全了解对象的真实类型。


* 类对象是单例，在应用程序范围内，每个类的Class仅有一个实例。
* 使用类型信息查询，可以正确处理使用消息传递机制的对象。
* 当一个对象A把他收到的所有选择子都转发给另外一个对象B，B是A的代理，A是被代理对象。调用class 返回的是B，而调用isKindOfClass，返回的是A(?)


## 总结：
***1. 每个实例都有一个指向Class对象的指针，用以表明其类型，而这些Class对象则构成了类的继承体系***

***2. 如果对象类型无法在编译期确定，那么就应该使用类型信息查询方法来探知***

***3. 尽量使用类型信息查询方法来确定对象类型，而不要直接比较类对象，因为某些对象可能实现了消息转发功能***


