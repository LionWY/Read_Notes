# 掌握GCD及操作队列的使用时机

1. 操作队列在底层是用GCD来实现的

2. GCD是纯C的API，而操作队列是OC对象

## NSOperation && NSOperationQueue 优点：

1. 取消某个操作
	* 操作队列直接调用`cancel`方法。
	* GCD的架构是“安排好任务之后就不管了”（fire and forget），取消需要开发者在应用程序层自己来实现。

2. 指定操作间的依赖关系
	* 一个操作可以依赖其他多个操作，开发者能够指定操作之间的依赖体系，使特定的操作必须在另外一个操作顺利执行完毕后方可执行。

			- (void)addDependency:(NSOperation *)op;
3. 通过键值观测机制监控NSOperation对象的属性。
	* NSOperation对象有许多属性`cancelled` ` executing` `finished`都适合通过键值观测机制（KVO）来监听。
4. 指定操作的优先级
	* 操作的优先级表示此操作与队列中其他操作的优先级关系

	* 操作队列可以指定操作的优先级（调度算法？），也可以通过属性`queuePriority`设置队列的优先级
			
	* GCD只有针对整个队列的优先级，不是针对每个块的。
5. 重用NSOperation对象
	* NSOperation对象在执行时可以充分利用存于其中的信息，而且还可以随意调用定义在类中的方法。
6. 应该根据性能来选择使用操作队列还是派发队列。

## 总结：

***1. 在解决多线程与任务管理问题时，派发队列并非唯一方案***

***2. 操作队列提供了一套高层的OC API，能实现纯GCD所具备的绝大部分功能，而且还能完成一些更为复杂的操作***


